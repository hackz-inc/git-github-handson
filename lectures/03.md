## 基本的な使い方 その 2

ここでは、**最も基本的なコマンド** について書いていきます。

実際に手を動かしながらやってみましょう！

## 【add, commit】

これらのコマンドは、ファイルの変更や追加などを行った後に使用するコマンドです。  
以下のように使用します。

```bash
$ git add [変更したファイルやフォルダ名]
$ git commit -m "[コミットメッセージ]"
```

それぞれが何をしているかというと、

### add

`add` は作業ディレクトリ内の**変更をステージングエリアに追加する**コマンドです。  
簡単にいうと、ファイルを変更したときにこのファイルの変更を記録するという指定をするコマンドです。

### commit

`commit`は`add`された**ファイルの変更や追加を記録する**コマンドです。  
コミットメッセージにはコミットの説明を書きます。後からこのコミットメッセージを見ることができるので、**何を何故やったのか**などを分かりやすく書いておくと良いです。

これらの操作はゲームのスロットがあるタイプのセーブ機能に似ています。  
これによって、いくつもセーブデータを作って好きな場所に戻したり、いらないデータを消したりなどの操作に似たことをすることができます。ですので、**こまめにこの作業を行いましょう**。

これらのコマンドには様々な使用例があるので、このページのおまけの部分に書いていきます。

## 【push, pull】

これらのコマンドは、ローカルとリモートとの通信を行うためのコマンドです。

### push

`add`, `commit`はローカルリポジトリに変更を保存するものなので、push を使ってコミットを**リモートリポジトリへ反映**させます。

使用方法は以下の通りです。

```bash
$ git push origin [ブランチ名]
```

このコマンドを実行すると、指定したブランチのコミット履歴などの情報をリモートリポジトリに反映させることができます。

また、`main(or master)`ブランチへ`push`したい時は、

```bash
$ git push
```

のみで、リモートの`main(or master)`ブランチへ反映させることができます。

`push`は`add`, `commit`のように毎回する必要はありません。  
むしろ`push`すると後から`commit`の修正をしたいときに少し大変になります。  
しかし、いつまでも`push`しないでいるとリモートリポジトリに反映されないままなので、良きタイミングで行いましょう。

### pull

`pull`コマンドは、リモートリポジトリの情報を**ローカルに反映させる**コマンドです。

使用方法は以下の通りです。

```bash
$ git pull origin [ブランチ名]
```

このコマンドを実行すると、指定したブランチのコミット履歴などの情報をローカルリポジトリに反映させることができます。

また`push`と同様に、`main(or master)`ブランチを`pull`したい時は、

```bash
$ git pull
```

のみで、ローカルの`main(or master)`ブランチに反映させることができます。

`pull`は作業を始める前に一度しておくと良いです。

`push`, `pull`に関しても、より詳しい説明を最後のおまけ部分に書いているので、気になる方はそちらもご確認ください！

## 【その他のコマンド】

その他の頻出コマンドを紹介します。

### status

`status`コマンドは前回のコミットから変更のあったパスを表示します。  
ファイルを変更した後、`add`, `commit`をする前に`status`コマンドで変更ファイルを確認しましょう。

以下のコマンドで使用できます。

```bash
git status

// ショートフォーマットで表示
$ git status -s
```

`-s`オプションを使用した場合には、以下のフォーマットで表示されます。

- M: 変更
- A: 追加
- D: 削除
- R: ファイル名の変更
- ??: Git 管理していないファイル

`add`する前か後であるかどうかも上記のアルファベットの位置で見ることができます。

例:

```bash
$ git status -s
---------------------------------------
A  test.js  // add済みの追加したファイル
 M index.js // add前の変更したファイル
```

### diff

`diff`コマンドは変更したファイルの直前のコミットとの差分を表示するためのコマンドです。

使い方は以下の通りです

```bash
// add前の差分を表示
$ git diff

// add済の差分を表示
$ git diff --staged

// 特定のファイルの差分を表示
$ git diff [ファイル名]
```

差分がある場合には、追加された行の最初には「+」が表示され、削除された行の最初には「–」が表示されます。

例:

```bash
$ git diff
---------------------
-console.log("削除した行");
+console.log("追加した行");
```

差分が多い時に`diff`の出力を終了したい場合には、`q`を入力して終了させることができます。

### log

`log`コマンドはこれまでのコミットログを表示させることができます。  
コミットは新しいコミットから表示され、コミットの番号、コミットメッセージ、コミットしたユーザー、コミットした時間など、様々な情報を見ることができます。  
ここでよくコミットメッセージを見て履歴を遡るので、コミットメッセージは何をやったか分かりやすく書いておくととても便利です。

使い方

```bash
$ git log
-------------------------------
commit e3be71e84675adb84ae45370b6e28cfa5cdeb466 (HEAD -> main, origin/main)
Author: take-cantik <take.cantik17@gmail.com>
Date:   Tue Nov 29 10:40:20 2022 +0900

    First commit

commit c69fe376dfe44271de43dc3a6856e5aadf377a4a
Author: take-cantik <take.cantik17@gmail.com>
Date:   Tue Nov 29 00:07:28 2022 +0900

    Add: README
```

log コマンドはオプションが多すぎるので、自分の見やすいように色々試して見ましょう。
個人的によく使っているのは、以下のコマンドです。

```bash
$ git log --graph --decorate --oneline --all --pretty=format:'%C(yellow)%h %Cgreen%cn %Cred%d %Creset%s'
```

長いので alias を登録しておくと便利です。

## 【実際にやってみよう】
